{% extends "admin/index.html.twig" %}

{% block admin_content %}
    <hr>
    <div class="row">
        <div class="col-md-12">
            <a href="{{ path("task-add") }}" class="btn btn-primary">Добавить задачу</a>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-md-12">
            {% if tasks %}
            <table class="table">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Название задачи</th>
                    <th scope="col">Дата изменения</th>
                    <th scope="col">Срок до</th>
                    <th scope="col">Действия</th>
                </tr>
                </thead>
                <tbody>
                {% for task in tasks %}
                <tr>
                    <td scope="row"></td>
                    <td>{{ task.title }}</td>
                    <td>{{ task.updatedat|date }}</td>
                    <td>{{ task.duedate|date }}</td>
                    <td>
                        <a href="{{ path("task-view", {id: task.id}) }}" class="btn btn-sm btn-success">Просмотр</a>
                        <a href="{{ path("task-edit", {id: task.id}) }}" class="btn btn-sm btn-warning">Изменить</a>
                        <a href="{{ path("task-delete", {id: task.id}) }}" class="btn btn-sm btn-danger">Удалить</a>
                    </td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
            {% else %}
                Нет задач
            {% endif %}
        </div>
    </div>

{% endblock %}